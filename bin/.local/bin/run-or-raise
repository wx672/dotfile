#!/bin/bash

# This script is supposed to be invoked via shortcut keys configured
# in wm init files, e.g.  config.h in dwm source code.
#
# USAGE:  run-or-raise <window class> <command [options]>
#
# $1 should be a string indicating window name or window class (xprop),
# such as emacs, browser, xterm, nsxiv.
# 
# $2 should be the command name, such as emacsclient, x-www-browser,
# x-terminal-emulator, nsxiv
#
# $3+ should be the optional arguments passed to the command
#
# EXAMPLE:
#   run-or-raise emacs emacsclient -c -n -a ""
#   run-or-raise browser x-www-browser
#   run-or-raise xterm x-terminal-emulator
#   run-or-raise nsxiv nsxiv -qbsf ~/.local/share/wallpapers/keys-dwm.png
#

command -v wmctrl || { notify-send "Missing wmctrl"; exit 1; }

wmctrl -xa $1 || { shift; "$@"; }
